<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="AdminDAO">
	<select id="getAdminList" resultType="admin">
		select *
		from admin
		where adm_enddate is null
		order by adm_no desc
	</select>
	<select id="getAdminDetail" parameterType="admin" resultType="admin">
		select *
		from admin
		where adm_no = #{adm_no}
	</select>
	<update id="updateEndDate" parameterType="admin">
		update admin
		set adm_enddate = sysdate
		where adm_no = #{adm_no}
	</update>
	<update id="updateAdmin" parameterType="admin">
		update admin
		set adm_name = #{adm_name},
			adm_dept = #{adm_dept},
			adm_email = #{adm_email},
			adm_phone = #{adm_phone},
			adm_adress = #{adm_adress}
		where adm_no = #{adm_no}
	</update>
  </mapper>